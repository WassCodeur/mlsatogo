---
import Container from "./Container.astro";
const links = [
	{
		to: "/#features",
		label: "Features",
	},
	{
		to: "/#solution",
		label: "Solution",
	},
	{
		to: "/#reviews",
		label: "Reviews",
	},
];
---

<script>
	let isToggled = false;
	const navlinks = document.querySelector("#navlinks");
	const hamburger = document.querySelector("#hamburger");
	const layer = document.querySelector("#navLayer");
	const links = [...navlinks.querySelector("ul").children];

	function toggleNavlinks() {
		if (isToggled) {
			navlinks.classList.add(
				"!visible",
				"!scale-100",
				"!opacity-100",
				"!lg:translate-y-0"
			);
			hamburger.classList.add("toggled");
			layer.classList.add("origin-top", "scale-y-100");
		} else {
			navlinks.classList.remove(
				"!visible",
				"!scale-100",
				"!opacity-100",
				"!lg:translate-y-0"
			);
			hamburger.classList.remove("toggled");
			layer.classList.remove("origin-top", "scale-y-100");
		}
	}
	hamburger.addEventListener("click", () => {
		isToggled = !isToggled;
		toggleNavlinks();
	});

	links.forEach((link) => {
		link.addEventListener("click", () => {
			isToggled = !isToggled;
			toggleNavlinks();
		});
	});
</script>

<header>
	<nav
		class="absolute z-10 w-full border-b border-black/5 dark:border-white/5 lg:border-transparent"
	>
		<section
			aria-labelledby="navigation"
			id="navigation"
			class="fixed z-50 w-full overflow-hidden border-b relatve bg-vulcan-900/20 border-white/5 backdrop-blur-2xl lg:bg-vulcan-900/0"
		>
			<div class="relative w-full mx-auto max-w-7xl">
				<div
					x-data="{ open: false }"
					class="relative flex flex-col w-full px-8 py-5 mx-auto md:items-center md:justify-between md:flex-row md:px-12 lg:px-32"
				>
					<div
						class="flex flex-row items-center justify-between text-white lg:justify-start"
					>
						<a href="/" class="lg:pr-8">
							<div class="inline-flex items-center gap-3">
								<p class="text-2xl font-bold uppercase">MLSA Togo</p>
							</div>
						</a>
						<button
							@click="open = !open"
							class="inline-flex items-center justify-center p-2 text-white hover:text-indigo-400 focus:outline-none focus:text-white md:hidden"
						>
							<svg
								class="w-6 h-6"
								stroke="currentColor"
								fill="none"
								viewBox="0 0 24 24"
							>
								<path
									:class="{'hidden': open, 'inline-flex': !open }"
									class="inline-flex"
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M4 6h16M4 12h16M4 18h16"></path>
								<path
									:class="{'hidden': !open, 'inline-flex': open }"
									class="hidden"
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M6 18L18 6M6 6l12 12"></path>
							</svg>
						</button>
					</div>
					<nav
						:class="{'flex': open, 'hidden': !open}"
						class="flex-col items-center flex-grow hidden md:pb-0 md:flex md:justify-end md:flex-row"
					>
						<a
							href="/golds"
							class="rounded-lg px-4 py-2 text-sm h-8 transition-all flex items-center justify-center text-white bg-gradient-to-b from-white/[.105] to-white/[.15] hover:to-white/[.25] h-10 ring-1 ring-inset ring-white/20"
						>
							See Togo MLSA Golds
						</a>
						<a
							class="px-2 py-2 text-sm font-normal text-white lg:px-6 md:px-3 hover:text-white/50"
							href="https://youtube.com/@mlsatogo">Youtube</a
						>
						<a
							class="px-2 py-2 text-sm font-normal text-white lg:px-6 md:px-3 hover:text-white/50"
							href="https://x.com/mlsatogo">Twitter</a
						>
						<a
							class="px-2 py-2 text-sm font-normal text-white lg:px-6 md:px-3 hover:text-white/50"
							href="https://mvp.microsoft.com/studentambassadors?wt.mc_id=studentamb_252175"
							>Register</a
						>
					</nav>
				</div>
			</div>
		</section>
	</nav>
</header>

<style>
	#toggle_nav:checked ~ div #hamburger #line {
		@apply translate-y-1.5 rotate-45;
	}

	#toggle_nav:checked ~ div #hamburger #line2 {
		@apply -translate-y-1 -rotate-45;
	}

	.toggled div:first-child {
		@apply translate-y-1.5 rotate-45;
	}
	.toggled div:last-child {
		@apply -translate-y-1 -rotate-45;
	}
</style>
